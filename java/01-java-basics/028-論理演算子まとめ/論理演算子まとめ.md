# 論理演算子まとめ

以下に Java Silver 試験や実務でも頻出の **論理演算子（`&&`, `||`, `!`, `&`, `|`, `^`）に関するパターン問題集（○×・選択式）** をご用意しました。

特にひっかけやすい「短絡評価 vs 非短絡評価」「null 安全性」などを含めています。

---

## ✅ Java 論理演算子 パターン問題集（10問）

---

### ❶ 【基本：AND の短絡評価】

```java
String s = null;
if (s != null && s.length() > 0) {
    System.out.println("safe");
}
```

Q: このコードは `NullPointerException` を回避できる。

✅ **正解：○**

📘 `&&` の短絡評価により、左辺が false なら右辺は評価されない

---

### ❷ 【非短絡の AND 演算子】

```java
String s = null;
if (s != null & s.length() > 0) {
    System.out.println("safe");
}
```

Q: このコードはコンパイルエラーになる。

✅ **正解：×**

📘 コンパイルは通るが、`&` は**非短絡評価**なので `NPE` が発生する

---

### ❸ 【基本：OR の短絡評価】

```java
int x = 5;
if (x == 5 || x / 0 == 1) {
    System.out.println("ok");
}
```

Q: このコードは `ArithmeticException` を発生させずに "ok" を出力する。

✅ **正解：○**

📘 `||` は左辺が true の時点で右辺を評価しない（短絡評価）

---

### ❹ 【NOT の基本】

```java
boolean flag = true;
if (!flag) {
    System.out.println("NO");
} else {
    System.out.println("YES");
}
```

Q: 出力は "NO" になる。

✅ **正解：×**

📘 `!true` → false → else節に進む → "YES"

---

### ❺ 【XOR（排他的論理和）】

```java
boolean a = true;
boolean b = false;
System.out.println(a ^ b);
```

Q: 出力は `true` である。

✅ **正解：○**

📘 XOR は「どちらか一方が true」のとき true

---

### ❻ 【非短絡 OR による例外発生】

```java
String s = null;
if (s == null | s.length() == 0) {
    System.out.println("empty");
}
```

Q: このコードは "empty" を出力する。

✅ **正解：×**

📘 `|` は **両辺を評価** → `s.length()` で `NullPointerException`

---

### ❼ 【複数条件の短絡評価】

```java
int a = 1;
int b = 2;
if (a == 1 && b++ == 2) {}
System.out.println(b);
```

Q: 出力は `2` になる。

✅ **正解：×**

📘 `b++ == 2` は評価されるので b → `3`

---

### ❽ 【ビット演算子との混乱防止】

```java
int a = 6;  // 110
int b = 3;  // 011
System.out.println(a & b);
```

Q: 出力は `2` になる。

✅ **正解：○**

📘 ビット AND の演算：110 & 011 = 010

---

### ❾ 【真理値評価：false ^ false】

```java
System.out.println(false ^ false);
```

Q: 出力は `false`。

✅ **正解：○**

📘 XOR は「どちらか一方が true」のときだけ true

---

### 🔟 【nullチェックでの評価順】

```java
String s = null;
if (s.length() > 0 && s != null) {
    System.out.println("NG");
}
```

Q: このコードは安全に評価される。

✅ **正解：×**

📘 `s.length()` が先に評価されるため `NullPointerException` が発生

---

## ✅ 補足：論理演算子一覧と用途

| 演算子 | 種類 | 短絡評価 | 用途 |
| --- | --- | --- | --- |
| `&&` | 論理AND | ✅ | null安全チェックに最適 |
| ` |  | ` | 論理OR |
| `&` | ビットAND / 論理AND | ❌ | ビット演算 or 全評価が必要な場合 |
| ` | ` | ビットOR / 論理OR | ❌ |
| `^` | 排他的論理和 | ❌ | 真偽が異なるとき true |
| `!` | 否定 | — | 条件反転 |

---

## ✅ まとめ：試験でひっかけやすいポイント

| チェックポイント | 理由 |
| --- | --- |
| `&&` / ` |  |
| `&` / ` | ` はビット演算と混同に注意 |
| XOR（`^`）の挙動は true/false の排他 | 「どちらか一方だけ true」なら true |
| 評価順序を間違えると NPE が発生 | 左辺で `null` チェックすべき |