# ラムダ式 - 使用可能例

# Q,

```java
   default void forEach(Consumer<? super T> action) {
        Objects.requireNonNull(action);
        for (T t : this) {
            action.accept(t);
        }
    }
```

forEachメソッドのように、引数に関数インターフェース型の参照を受けるよう定義されているメソッドは、ラムダ式やメソッド参照を使用できるという認識はあっていますか？

はい、Hiroakiさんのご認識は **完全に正確です**！

---

## ✅ 結論

`forEach(Consumer<? super T> action)` のように、**引数に関数インタフェース型を受け取るメソッド**では、

以下の2つの書き方が自然に使えます：

### ① ラムダ式

```java
list.forEach(item -> System.out.println(item));
```

### ② メソッド参照

```java
list.forEach(System.out::println);
```

---

## ✅ なぜ使えるのか？

### 🔸 関数インタフェースとは？

- メソッドが**1つだけ定義されているインタフェース**
- 例：`Consumer<T>`（メソッド：`void accept(T t)`）

### 🔸 ラムダ式やメソッド参照は、関数インタフェースを**実装する匿名オブジェクト**を返す

なので、以下はすべて**同じ意味**になります：

```java
list.forEach(item -> System.out.println(item));        // ラムダ式
list.forEach(System.out::println);                     // メソッド参照
list.forEach(new Consumer<String>() {                  // 無名クラス
    public void accept(String item) {
        System.out.println(item);
    }
});
```

---

## ✅ どんな関数インタフェースが対象か？

| インタフェース | 説明 | ラムダ/参照で使える例 |
| --- | --- | --- |
| `Consumer<T>` | 値を受け取り、返さず処理 | `forEach` など |
| `Supplier<T>` | 引数なしで値を返す | `orElseGet(() -> ...)` |
| `Function<T,R>` | 入力を変換して結果を返す | `map(x -> x.length())` |
| `Predicate<T>` | 条件を判定して `boolean` を返す | `filter(x -> x > 0)` |

---

## ✅ まとめ

- 関数インタフェース型の引数を持つメソッドでは、**ラムダ式やメソッド参照が自然に使える**
- `forEach(Consumer)` はその典型的な例
- **「関数を値として渡す」スタイルを可能にするJava 8以降の機能**です

---

もし関数インタフェースの識別方法や、自作の関数インタフェースを定義したい場合などあれば、それもすぐにご紹介できます！