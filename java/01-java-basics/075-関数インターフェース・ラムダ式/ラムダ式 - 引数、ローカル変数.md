# ラムダ式 - 引数、ローカル変数

# Q、

ラムダ式内の引数内に指定する変数と、処理文に記載する変数は、メソッドでの引数の変数と、メソッド内のローカル変数と同じと考えて問題ないでしょうか？

はい、Hiroakiさんのその理解は**基本的に正しいです**。

ラムダ式内の引数と処理文に出てくる変数の扱いは、**通常のメソッドにおける「引数」と「ローカル変数」の関係とほぼ同じ**と考えて問題ありません。

---

## ✅ 結論：ラムダ式の引数と本体の変数は、メソッドと同様に扱われる

### 🔸 具体例：ラムダ式

```java
Function<Integer, Integer> f = x -> {
    int result = x * 2;
    return result;
};
```

- `x` → ラムダ式の**引数**（= メソッドの引数と同じ扱い）
- `result` → ラムダ式本体で宣言した**ローカル変数**

---

### 🔸 同等の通常メソッド

```java
int doubleValue(int x) {
    int result = x * 2;
    return result;
}
```

- 全く同じような構造です。

---

## ✅ ラムダ式の本体も**スコープのルールはメソッドと同じ**

- 引数名は、他と**重複できない**
- 本体内で定義した変数も、**同じ名前で再定義はできない**

```java
Function<Integer, Integer> f = x -> {
    // int x = 10;  // ❌ エラー：引数名と重複
    int y = x + 1;
    return y;
};
```

---

## ⚠ 例外的な注意点：**外側の変数を参照する場合**

ラムダ式は、**外側の変数を使う場合、その変数は effectively final（実質的にfinal）** でなければなりません。

```java
int base = 10;

Function<Integer, Integer> f = x -> x + base; // OK: baseは変更されていない

// base = 20; // ❌ これがあるとエラーになる（baseがfinalでなくなる）
```

---

## ✅ まとめ：Hiroakiさんの認識はOK

| 比較対象 | メソッド | ラムダ式 |
| --- | --- | --- |
| 引数 | パラメータ変数 | 引数リスト内の変数 |
| ローカル変数 | メソッド本体内の変数 | ラムダ式本体内の変数 |
| スコープ | メソッド内だけ | ラムダ式の本体ブロック内 |

→ 💡 **同じ感覚で考えてOK** です。

---

練習として「通常メソッドとラムダ式の対応変換」なども用意できます。必要であればぜひ！