# 変数 まとめ

# Q,

型 変数 = ●；
●に入る可能性があるものを整理してください。

素晴らしい質問です、Hiroakiさん。

Javaの文法において、代入文の右辺（●の部分）に置けるものを正しく整理すると、**型と値、式の関係**が深く理解できます。

---

## ✅ 文法パターン

```java
型 変数 = ● ;
```

この構文において、`●` に入るのは **「その型に代入可能な値または式」**です。

以下に、よく使われるケースを分類して整理します。

---

## 🗂️ `●` に入る可能性のあるもの一覧（代表的な型ごと）

| 種類 | 例 | 備考 |
| --- | --- | --- |
| **リテラル値** | `42`, `'A'`, `3.14`, `"Hello"`, `true`, `null` | プリミティブ型・文字列・null |
| **インスタンス生成** | `new String("abc")`, `new User()` | コンストラクタ呼び出しによるオブジェクト生成 |
| **メソッド呼び出し** | `getUser()`, `Math.max(a, b)` | 戻り値が代入可能な型であること |
| **既存変数** | `x`, `userList`, `flag` | 同じ型または代入可能な型（サブクラス・ラッパーなど） |
| **型変換（キャスト）** | `(int) 3.5`, `(User) obj` | 明示的な型変換による代入 |
| **演算式** | `a + b`, `count * 2`, `flag && true` | 結果が代入先の型に一致する必要あり |
| **配列初期化式** | `new int[]{1, 2, 3}` | `int[] arr = new int[]{1,2,3};` のように使用 |
| **ラムダ式** | `() -> 42`, `s -> s.length()` | 関数型インターフェース（例：Supplier, Function）に代入可能 |
| **メソッド参照** | `System.out::println`, `this::doSomething` | ラムダと同様、関数型インターフェース型の変数に限る |
| **コレクション初期化式** | `List.of(1,2,3)`, `Map.of("key", "value")` | Java 9以降で有効、戻り値型に注意 |

---

## 💡 型による代入可否の例（逆方向チェック）

| 左辺（型） | 右辺（可能な例） | 備考 |
| --- | --- | --- |
| `int` | `10`, `'A'`, `(int) 3.14` | 整数、文字（ASCII）、キャスト |
| `double` | `5`, `3.14`, `Math.sqrt(2)` | 整数もOK（拡大変換） |
| `String` | `"abc"`, `String.valueOf(123)`, `new String()` | リテラル・メソッド・インスタンス |
| `User` | `new User()`, `getUser()` | 同一型またはサブクラス型 |
| `Object` | 何でも | すべての参照型の親。ダウンキャスト要注意 |
| `Supplier<Integer>` | `() -> 42` | ラムダ式により関数型インターフェースとして機能 |

---

## 🧠 注意点：代入可能≠同じ型

Javaでは「代入可能」であれば**型が完全に一致していなくても代入可能**です。

```java
Number num = Integer.valueOf(10);    // サブクラスなのでOK
Object obj = "Hello";                // StringはObjectのサブクラスなのでOK
```

---

## ✅ まとめ（暗記用キーワード）

> **「定数・式・関数・生成・変数・キャスト・参照」**などが ● に入る代表的パターン。
> 

---

もし、さらに「右辺が匿名クラスやstaticインポートされた定数」のような応用例もまとめたい場合はお知らせください。より詳細に展開可能です。

[変数の種類](%E5%A4%89%E6%95%B0%20%E3%81%BE%E3%81%A8%E3%82%81%2021962cef73508061988de654a1036ffe/%E5%A4%89%E6%95%B0%E3%81%AE%E7%A8%AE%E9%A1%9E%2022462cef73508019adc5e18c15946b1d.md)

[フィールドの特定](%E5%A4%89%E6%95%B0%20%E3%81%BE%E3%81%A8%E3%82%81%2021962cef73508061988de654a1036ffe/%E3%83%95%E3%82%A3%E3%83%BC%E3%83%AB%E3%83%89%E3%81%AE%E7%89%B9%E5%AE%9A%2022462cef735080ae89d6f99abeedfc00.md)

[変数 - 修飾子](%E5%A4%89%E6%95%B0%20%E3%81%BE%E3%81%A8%E3%82%81%2021962cef73508061988de654a1036ffe/%E5%A4%89%E6%95%B0%20-%20%E4%BF%AE%E9%A3%BE%E5%AD%90%2022762cef73508044bd28e02d7f87f1e1.md)