# メソッド呼び出し

# Q,

var temp1 = obj.methodA();
私が思う通常のメソッド呼び出しは、ある型の変数から. でメソッドを呼び出すイメージです。
var temp1 = methodA();
このように、変数を経ずに直接メソッドが呼び出せるケースにはどんなものがありますか？

Hiroakiさんのご質問は、「**インスタンスや変数を経由せずにメソッドを直接呼び出すケースは何か？**」という、Javaの**呼び出し構文の文法的・構造的バリエーション**に関するものですね。とても重要かつ実務的な観点です。

---

## ✅ 結論

> var temp1 = methodA(); のように「変数やインスタンスを経由せずに直接呼び出せるメソッド」には、大きく分けて以下のケースがあります：
> 

---

## ✅ 1. **同一クラス内のインスタンスメソッド（thisの省略）**

```java
class MyClass {
    void methodA() {
        System.out.println("A");
    }

    void caller() {
        methodA();         // ← this.methodA() の省略（Javaでは許される）
    }
}
```

- Javaでは、**同じクラス内のメソッド呼び出しに限り `this.` を省略できる**
- よって `methodA()` は `this.methodA()` と同義

---

## ✅ 2. **staticメソッドの呼び出し（クラス名の省略 or 明示）**

```java
class Util {
    static void methodA() {
        System.out.println("static methodA");
    }
}

class App {
    void run() {
        Util.methodA();  // ← クラス名あり（推奨）
        methodA();       // ← 同一クラス内にstaticであれば省略も可（非推奨）
    }

    static void methodA() {
        System.out.println("within App");
    }
}
```

- staticメソッドはインスタンス不要で呼び出し可能
- 同じクラス内であれば `methodA()` と書ける（`App.methodA()` の省略）

---

## ✅ 3. **メソッド参照やラムダ内での暗黙的な呼び出し**

```java
Runnable r = () -> methodA(); // ← コンパイル時点で正しく束縛されていればOK
```

- これも `this.methodA()` の省略形
- ラムダ式やメソッド参照の中で使われる

---

## ✅ 4. **static import を使った他クラスの static メソッド呼び出し**

```java
import static java.util.Objects.requireNonNull;

class Example {
    void validate(String input) {
        requireNonNull(input);  // ← static import によりクラス名不要で呼び出し可能
    }
}
```

- `static import` により、**staticメソッドを「クラス名なし」で使える**

---

## ✅ 5. **エントリーポイントでの直接呼び出し**

```java
public class Main {
    public static void main(String[] args) {
        greet(); // ← staticメソッドなので new せず直接呼べる
    }

    static void greet() {
        System.out.println("Hello");
    }
}
```

---

## ✅ 補足：クラス階層内での継承・オーバーライド時にも呼び出せる

```java
class Parent {
    void hello() {
        System.out.println("Hi from parent");
    }
}

class Child extends Parent {
    void greet() {
        hello(); // ← this.hello() を省略
    }
}
```

---

## ✅ まとめ：変数・インスタンスを経由しない呼び出しが可能なケース

| 呼び出し形式 | 代表例 | 条件 |
| --- | --- | --- |
| `methodA();` | 同一クラス内のメソッド呼び出し | `this.` の省略 |
| `ClassName.methodA();` | staticメソッド | クラス名を付けて呼び出し |
| `methodA();`（static） | 同一クラス or static import | クラス名の省略可 |
| ラムダ内で `methodA();` | ラムダは `this` を継承 | コンパイル時に正しく解決される場合 |
| メソッド参照 `this::methodA` | `Function`, `Runnable` 等 | 暗黙的に `this` 参照 |

---

ご希望があれば、「この形式が使える条件」「なぜ this やクラス名を省略できるのか（JLSベースの解説）」なども深掘り可能です。