# join()

---

# âœ… `String.join()` ã®åŸºæœ¬æƒ…å ±

| é …ç›® | å†…å®¹ |
| --- | --- |
| æ‰€å±ã‚¯ãƒ©ã‚¹ | `java.lang.String`ï¼ˆã‚¤ãƒ³ãƒãƒ¼ãƒˆä¸è¦ï¼‰ |
| ãƒ¡ã‚½ãƒƒãƒ‰å | `join(CharSequence delimiter, CharSequence... elements)` ãªã© |
| æˆ»ã‚Šå€¤ã®å‹ | `String`ï¼ˆçµåˆã•ã‚ŒãŸæ–‡å­—åˆ—ï¼‰ |
| ä¸»ãªç”¨é€” | **è¤‡æ•°ã®æ–‡å­—åˆ—ã‚’ã€æŒ‡å®šã—ãŸåŒºåˆ‡ã‚Šæ–‡å­—ã§çµåˆã™ã‚‹** |

---

# ğŸ”¹ ã‚·ã‚°ãƒãƒãƒ£ï¼ˆå®šç¾©ï¼‰

ä¸»ãª2ç¨®é¡ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ãŒã‚ã‚Šã¾ã™ã€‚

```java
public static String join(CharSequence delimiter, CharSequence... elements)
public static String join(CharSequence delimiter, Iterable<? extends CharSequence> elements)
```

- **delimiter**ï¼š
    - è¦ç´ åŒå£«ã‚’ã¤ãªããŸã‚ã®åŒºåˆ‡ã‚Šæ–‡å­—åˆ—ã€‚
- **elements**ï¼š
    - çµåˆã—ãŸã„è¤‡æ•°ã®æ–‡å­—åˆ—ï¼ˆé…åˆ—ã¾ãŸã¯ã‚¤ãƒ†ãƒ©ãƒ–ãƒ«ï¼‰ã€‚

---

# ğŸ”¹ ä½¿ç”¨ä¾‹ï¼ˆåŸºæœ¬ï¼‰

### â‘  å¯å¤‰é•·å¼•æ•°ç‰ˆï¼ˆé…åˆ—ãƒ»è¤‡æ•°æ–‡å­—åˆ—ï¼‰

```java
String result = String.join("-", "apple", "banana", "cherry");

System.out.println(result);
// â†’ "apple-banana-cherry"
```

âœ… `"apple"`, `"banana"`, `"cherry"`ãŒ **"-"** ã§çµåˆã•ã‚Œã‚‹ï¼

---

### â‘¡ Iterableç‰ˆï¼ˆãƒªã‚¹ãƒˆãªã©ï¼‰

```java
List<String> fruits = List.of("apple", "banana", "cherry");
String result = String.join(" / ", fruits);

System.out.println(result);
// â†’ "apple / banana / cherry"
```

âœ… ãƒªã‚¹ãƒˆã‹ã‚‰ã§ã‚‚ç›´æ¥çµåˆã§ãã‚‹ï¼

---

# ğŸ”¹ ã‚ˆãã‚ã‚‹ç”¨é€”ãƒ»ãƒ‘ã‚¿ãƒ¼ãƒ³

| ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ | ä½¿ç”¨ä¾‹ |
| --- | --- |
| CSVå‡ºåŠ› | `String.join(",", columns)` |
| URLãƒ‘ã‚¹çµåˆ | `String.join("/", "api", "v1", "users")` |
| ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ä½œæˆï¼ˆWindowsãªã‚‰"\"ï¼‰ | `String.join("\\", "C:", "Users", "Admin")` |
| ãƒªã‚¹ãƒˆè¡¨ç¤ºï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼åä¸€è¦§ãªã©ï¼‰ | `String.join("ã€", usernames)` |

---

# ğŸ”¹ æ³¨æ„ç‚¹ã¾ã¨ã‚

| é …ç›® | å†…å®¹ |
| --- | --- |
| nullè¦ç´ ãŒã‚ã‚‹å ´åˆ | NullPointerExceptionã«ãªã‚‹ï¼ˆelementsã«nullãŒå…¥ã£ã¦ã„ã‚‹ã¨ä¾‹å¤–ï¼‰ |
| nullæ–‡å­—åˆ—ã‚’é˜²ãã«ã¯ï¼Ÿ | äº‹å‰ã«filterã™ã‚‹ã‹ã€Optionalæ‰±ã„ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ |
| delimiterã¯nullå¯ï¼Ÿ | âŒ delimiterãŒnullãªã‚‰NullPointerExceptionã«ãªã‚‹ |
| å…ƒã®ãƒªã‚¹ãƒˆã¯å¤‰ã‚ã‚‹ï¼Ÿ | âŒ å…ƒãƒ‡ãƒ¼ã‚¿ã¯å¤‰æ›´ã•ã‚Œãªã„ï¼ˆimmutableè¨­è¨ˆï¼‰ |

---

# ğŸ”¹ split()ã¨ã®å¯¾æ¯”

| æ©Ÿèƒ½ | split() | join() |
| --- | --- | --- |
| ä½•ã‚’ã™ã‚‹ï¼Ÿ | æ–‡å­—åˆ—ã‚’åŒºåˆ‡ã‚Šæ–‡å­—ã§åˆ†å‰²ã—ã¦é…åˆ—ã«ã™ã‚‹ | é…åˆ—ã‚„ãƒªã‚¹ãƒˆã‚’åŒºåˆ‡ã‚Šæ–‡å­—ã§çµåˆã—ã¦1ã¤ã®æ–‡å­—åˆ—ã«ã™ã‚‹ |
| å…¸å‹çš„ãªä½¿ã„æ–¹ | "a,b,c"â†’["a","b","c"] | ["a","b","c"]â†’"a,b,c" |

---

# âœ… ã¾ã¨ã‚

| ãƒã‚¤ãƒ³ãƒˆ | å†…å®¹ |
| --- | --- |
| ä½•ã‚’ã™ã‚‹ï¼Ÿ | è¤‡æ•°ã®æ–‡å­—åˆ—ã‚’ã€æŒ‡å®šåŒºåˆ‡ã‚Šæ–‡å­—ã§é€£çµã™ã‚‹ |
| å¯¾è±¡ | é…åˆ—ã€ãƒªã‚¹ãƒˆï¼ˆIterableï¼‰ |
| nullæ³¨æ„äº‹é … | delimiterã‚‚è¦ç´ ã‚‚nullã ã¨ä¾‹å¤–ç™ºç”Ÿ |
| splitã¨ã®é–¢ä¿‚ | é€†æ“ä½œï¼ˆsplitã¯åˆ†å‰²ã€joinã¯çµåˆï¼‰ |
| ã‚ˆãä½¿ã†ã‚·ãƒ¼ãƒ³ | CSVç”Ÿæˆã€ãƒ‘ã‚¹ç”Ÿæˆã€ãƒªã‚¹ãƒˆè¡¨ç¤ºã€ãƒ­ã‚°å‡ºåŠ›ãªã©å¤šç”¨é€”ï¼ |

---

# âœ¨ è¶…ã‚·ãƒ³ãƒ—ãƒ«ã¾ã¨ã‚

> join()ã¯ã€ŒåŒºåˆ‡ã‚Šæ–‡å­—ã‚’ã¯ã•ã‚“ã§æ–‡å­—åˆ—ã‚’ã¾ã¨ã‚ã‚‹ã€ï¼
é…åˆ—ã‚„ãƒªã‚¹ãƒˆã‹ã‚‰ç°¡å˜ã«ãã‚Œã„ãªæ–‡å­—åˆ—ã‚’ä½œã‚Œã‚‹ï¼
nullæ··å…¥ã«ã¯è¦æ³¨æ„ï¼
> 

âœ… ã“ã®æ„Ÿè¦šã‚’æŠ¼ã•ãˆã‚Œã°ã€è©¦é¨“ã‚‚å®Ÿå‹™ã‚‚ãƒãƒƒãƒãƒªä½¿ã„ã“ãªã›ã¾ã™ï¼

ä»¥ä¸‹ã«ã€**ã€Œjoin()å°‚ç”¨ å¼•ã£ã‹ã‘å•é¡Œé›†ï¼ˆnullãƒˆãƒªãƒƒã‚¯ãƒ»åŒºåˆ‡ã‚Šæ–‡å­—è¨­å®šãƒŸã‚¹é˜²æ­¢ å…¨8å•ï¼‰ã€** ã‚’ã”ç”¨æ„ã—ã¾ã—ãŸï¼

ä»Šå›ã¯ã€

**ã€Œnullæ··å…¥ã®æ‰±ã„ã€ã€ŒåŒºåˆ‡ã‚Šæ–‡å­—æŒ‡å®šã®ãƒŸã‚¹ã€ã€Œé…åˆ—ã¨ãƒªã‚¹ãƒˆã®é•ã„ã€**

ãªã©ã€å®Ÿéš›ã«ãƒŸã‚¹ã—ã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆã‚’å¾¹åº•ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã—ã¾ã™ï¼

---

# ğŸ”º `join()`å°‚ç”¨ å¼•ã£ã‹ã‘å•é¡Œé›†ï¼ˆå…¨8å•ï¼‰

---

## ã€å•é¡Œç·¨ã€‘

---

### â“ å•é¡Œ 1ï¼šåŸºæœ¬çš„ãªjoinå‹•ä½œ

```java
String result = String.join("-", "a", "b", "c");
System.out.println(result);
```

### âœ… å•é¡Œ 1ã®ç­”ãˆ

**ç­”ãˆ**ï¼šA. `a-b-c`

---

### â“ å•é¡Œ 2ï¼šåŒºåˆ‡ã‚Šæ–‡å­—ãŒç©ºæ–‡å­—

```java
String result = String.join("", "a", "b", "c");
System.out.println(result);
```

### âœ… å•é¡Œ 2ã®ç­”ãˆ

**ç­”ãˆ**ï¼šA. `abc`

**è§£èª¬**ï¼š

- åŒºåˆ‡ã‚Šæ–‡å­—ãŒç©ºæ–‡å­—ãªã‚‰ã€å˜ç´”ã«é€£çµã•ã‚Œã‚‹ï¼

---

### â“ å•é¡Œ 3ï¼šnullåŒºåˆ‡ã‚Šæ–‡å­—ã‚’æ¸¡ã—ãŸã‚‰ï¼Ÿ

```java
String result = String.join(null, "a", "b", "c");
System.out.println(result);
```

### âœ… å•é¡Œ 3ã®ç­”ãˆ

**ç­”ãˆ**ï¼šD. å®Ÿè¡Œæ™‚ä¾‹å¤–ï¼ˆNullPointerExceptionï¼‰

**è§£èª¬**ï¼š

- delimiterãŒnullã ã¨å³NPEï¼

---

### â“ å•é¡Œ 4ï¼šè¦ç´ ã«nullãŒå«ã¾ã‚Œã¦ã„ã‚‹å ´åˆï¼ˆå¯å¤‰é•·å¼•æ•°ç‰ˆï¼‰

```java
String result = String.join("-", "a", null, "c");
System.out.println(result);
```

### âœ… å•é¡Œ 4ã®ç­”ãˆ

**ç­”ãˆ**ï¼šC. å®Ÿè¡Œæ™‚ä¾‹å¤–ï¼ˆNullPointerExceptionï¼‰

**è§£èª¬**ï¼š

- è¦ç´ ã«nullãŒã‚ã‚‹ã¨NPEã«ãªã‚‹ï¼

---

### â“ å•é¡Œ 5ï¼šãƒªã‚¹ãƒˆç‰ˆjoinã§è¦ç´ ãŒnullã®å ´åˆ

```java
List<String> list = Arrays.asList("a", null, "c");
String result = String.join("-", list);
System.out.println(result);
```

### âœ… å•é¡Œ 5ã®ç­”ãˆ

**ç­”ãˆ**ï¼šC. å®Ÿè¡Œæ™‚ä¾‹å¤–ï¼ˆNullPointerExceptionï¼‰

**è§£èª¬**ï¼š

- ãƒªã‚¹ãƒˆç‰ˆã§ã‚‚è¦ç´ ã«nullãŒã‚ã‚‹ã¨ãƒ€ãƒ¡ï¼

---

### â“ å•é¡Œ 6ï¼šç©ºã®ãƒªã‚¹ãƒˆã‚’joinã™ã‚‹ã¨ï¼Ÿ

```java
List<String> empty = List.of();
String result = String.join("-", empty);
System.out.println(result);
```

### âœ… å•é¡Œ 6ã®ç­”ãˆ

**ç­”ãˆ**ï¼šB. `""`ï¼ˆç©ºæ–‡å­—ï¼‰

**è§£èª¬**ï¼š

- ç©ºã®ãƒªã‚¹ãƒˆã‚’joinã™ã‚‹ã¨ç©ºæ–‡å­—åˆ—ï¼

---

### â“ å•é¡Œ 7ï¼šjoinå¯¾è±¡ãŒ1å€‹ã ã‘ãªã‚‰ï¼Ÿ

```java
String result = String.join("-", "onlyone");
System.out.println(result);
```

### âœ… å•é¡Œ 7ã®ç­”ãˆ

**ç­”ãˆ**ï¼šA. `onlyone`

**è§£èª¬**ï¼š

- åŒºåˆ‡ã‚Šæ–‡å­—ã‚’æŒŸã‚€ç›¸æ‰‹ãŒã„ãªã„ã®ã§ã€å˜ç´”ã«ãã®è¦ç´ ã ã‘ï¼

---

### â“ å•é¡Œ 8ï¼šnullã‚’å›é¿ã—ãŸå®‰å…¨ãªjoinæ–¹æ³•ã¯ï¼Ÿ

æ¬¡ã®ã†ã¡ã€å®‰å…¨ã«nullã‚’æ’é™¤ã—ã¦joinã™ã‚‹æ–¹æ³•ã¯ï¼Ÿ

```java
list.stream().filter(Objects::nonNull).collect(Collectors.joining("-"));
```

**è§£èª¬**ï¼š

- nullæ’é™¤ã™ã‚‹ãªã‚‰filterå¿…é ˆï¼

---

# âœ… join()å¼•ã£ã‹ã‘æ³¨æ„ãƒã‚¤ãƒ³ãƒˆã¾ã¨ã‚

| ç½ ãƒã‚¤ãƒ³ãƒˆ | æ­£ã—ã„ç†è§£ |
| --- | --- |
| delimiterãŒnull | âŒ NPEï¼ˆå¿…ãšåŒºåˆ‡ã‚Šæ–‡å­—ã¯è¨­å®šã™ã‚‹ï¼‰ |
| è¦ç´ ã«nullãŒã‚ã‚‹ | âŒ NPEï¼ˆstreamã§filterã—ã¦é™¤å»ã™ã‚‹ã®ãŒå®‰å…¨ï¼‰ |
| ç©ºãƒªã‚¹ãƒˆã‚’joinã™ã‚‹ã¨ï¼Ÿ | âœ… ç©ºæ–‡å­—åˆ—ã‚’è¿”ã™ |
| è¦ç´ 1å€‹ã ã‘ã®å ´åˆ | âœ… åŒºåˆ‡ã‚Šæ–‡å­—ã¯ä½¿ã‚ã‚Œãšã€ãã®1å€‹ãŒãã®ã¾ã¾è¿”ã‚‹ |

---

# âœ¨ è¶…ã‚·ãƒ³ãƒ—ãƒ«ã¾ã¨ã‚

> join()ã¯nullã«éå¸¸ã«å³ã—ã„ï¼
delimiterã‚‚è¦ç´ ã‚‚nullä¸å¯ï¼
å®‰å…¨é‹ç”¨ã§ã¯filter(Objects::nonNull)å¿…é ˆï¼
> 

âœ… ã“ã®æ„Ÿè¦šã‚’æŠ¼ã•ãˆã‚Œã°ã€è©¦é¨“ã‚‚å®Ÿå‹™ã§ã‚‚å®‰å¿ƒã—ã¦join()ã‚’æ´»ç”¨ã§ãã¾ã™ï¼