# trim()

```
String.trim()は、**「文字列の先頭と末尾にある空白（ホワイトスペース）を取り除くメソッド」**です！
```

---

# ✅ `String.trim()` の基本情報

| 項目 | 内容 |
| --- | --- |
| 所属クラス | `java.lang.String`（インポート不要） |
| メソッド名 | `trim()` |
| 戻り値の型 | `String`（空白除去後の新しい文字列） |
| 主な用途 | **先頭と末尾のホワイトスペース（空白・タブ・改行など）を取り除く** |

---

# 🔹 シグネチャ（定義）

```java
public String trim()
```

- 引数なし。
- 新しい`String`オブジェクトを返す。（元の文字列は変更されない）

---

# 🔹 使用例（基本）

```java
String s = "  Hello World!  ";
String trimmed = s.trim();

System.out.println(trimmed);  // → "Hello World!"
```

✅ 先頭と末尾の空白だけが取り除かれ、**中間の空白はそのまま残る**！

---

# 🔹 具体的に取り除かれる対象

- スペース (`' '`)
- タブ (`'\t'`)
- 改行 (`'\n'`)
- キャリッジリターン (`'\r'`)
- その他、Unicode上で「空白」と定義されている文字

**ただし、取り除くのは先頭と末尾のみ！**
➡ **文字列内部の空白には影響しない**！

---

# 🔹 元の文字列との関係

- `String`は**immutable（不変）**なので、
- `trim()`を呼び出しても元の文字列は変更されず、
- **新しいStringインスタンスが返される**！

---

# 🔹 注意ポイントまとめ

| 項目 | 内容 |
| --- | --- |
| 中間の空白は？ | ❌ 残る（削除しない） |
| 元のStringオブジェクトは？ | ❌ 変更されない（新しいオブジェクトが返される） |
| すでに空白がない場合は？ | ✅ 元のオブジェクトと**同じ参照**が返る可能性あり（最適化） |

---

# 🔹 よくある実務パターン例

| シチュエーション | 使い方例 |
| --- | --- |
| ユーザーの入力フォーム検証 | 入力値にtrim()をかけてから比較や登録処理に回す |
| ファイル読込時の行末余計な空白削除 | 読み込んだ各行に対してtrim()してから処理 |
| ログメッセージ整形（空白混入防止） | 送信メッセージの前後にtrim()をかけて正規化する |

---

# 🔹 よくある間違い・誤解

| 誤解内容 | 正しい理解 |
| --- | --- |
| 文字列中間の空白も削除できる？ | ❌ 中間の空白は削除されない。先頭・末尾だけ！ |
| 変更は元のStringに反映される？ | ❌ 反映されない。常に新しいStringインスタンスが返る！ |
| すでに整っている場合でも新しいStringが作られる？ | ⭕（注意）最適化で同じインスタンスが返る場合もある（JVM依存最適化） |

---

# ✅ まとめ

| 特徴 | 内容 |
| --- | --- |
| 先頭・末尾だけ除去 | 空白、タブ、改行など（内部は残る） |
| 元の文字列 | 不変（immutable）、新しい文字列を返す |
| よくある用途 | 入力チェック、ファイル読込後の整形、ログ出力整形など |

---

# ✨ 超シンプルまとめ

> trim()は「先頭と末尾の空白だけを取り除く」メソッド！
元の文字列はそのまま！
中間の空白はそのまま残る！
> 

✅ この感覚を押さえておけば、試験・実務どちらでもバッチリ使いこなせます！

**「先頭と末尾だけが対象」「中間空白は残る」「null対象の注意」「equalsと組み合わせる時の注意」**

を正確に区別できるかを問う、試験＆実務対応の本格問題です！

---

# 🔺 `trim()`専用 引っかけ問題集（全8問）

---

## 【問題編】

---

### ❓ 問題 1：基本的なtrim動作確認

```java
String s = "  Hello  ";

System.out.println(s.trim());
```

### ✅ 問題 1の答え

**答え**：A. `"Hello"`

**解説**：

- trim()は**先頭と末尾だけ除去**！

---

### ❓ 問題 2：中間の空白は消えるか？

```java
String s = "Good   Morning";

System.out.println(s.trim());

```

### ✅ 問題 2の答え

**答え**：C. `"Good   Morning"`

**解説**：

- **中間の空白は残る**！
- 中身に空白があっても消されない！

---

### ❓ 問題 3：空文字列に対するtrim

```java
String s = "";

System.out.println(s.trim().isEmpty());
```

### ✅ 問題 3の答え

**答え**：A. `true`

**解説**：

- 空文字列はそのまま空白なし、trimしても空のまま。

---

### ❓ 問題 4：空白だけの文字列に対するtrim

```java
String s = "     ";

System.out.println(s.trim().isEmpty());
```

### ✅ 問題 4の答え

**答え**：A. `true`

**解説**：

- 空白だけの文字列はtrim()すると**空文字列**になる！
- 結果、isEmpty()はtrue！

---

### ❓ 問題 5：trim後equals比較（前後空白あり）

```java
String input = "  admin  ";
String correct = "admin";

System.out.println(input.trim().equals(correct));

```

### ✅ 問題 5の答え

**答え**：A. `true`

**解説**：

- trim()してからequalsすれば**中身だけを比較できる**！

---

### ❓ 問題 6：trimなしequals比較（前後空白あり）

```java
String input = "  admin  ";
String correct = "admin";

System.out.println(input.equals(correct));
```

### ✅ 問題 6の答え

**答え**：B. `false`

**解説**：

- trimしなければ前後空白も比較対象になるため一致しない！

---

### ❓ 問題 7：nullに対してtrim()を呼び出すと？

```java
String s = null;

System.out.println(s.trim());
```

### ✅ 問題 7の答え

**答え**：C. 実行時例外

**解説**：

- nullに対してメソッド呼び出しすると**NullPointerException**！

---

### ❓ 問題 8：null安全にtrim()を使うには？

次のコードの???に入る正しいものは？

```java
String s = null;

String result = (s == null) ? "" : ???;
```

### ✅ 問題 8の答え

**答え**：A. `s.trim()`

**解説**：

- nullなら""、そうでなければs.trim()するのが安全！

✅ **(s == null) ? "" : s.trim()** という形が正解！

---

# ✅ 難易度アップまとめ

| 状況 | 正しい理解 |
| --- | --- |
| 先頭・末尾空白を除去 | trim()で除去できる |
| 中間空白を除去する？ | ❌ できない（中間空白はそのまま） |
| 空白だけの文字列 | trim()すると空文字列になる |
| null対象に対してtrim()を呼ぶと？ | ❌ NullPointerException発生（事前にnullチェック必須） |

---

# ✨ 超シンプルまとめ

> trim()は先頭・末尾だけ空白を削除する！
中間の空白には影響なし！
null対象には安全に対応すること！（nullチェック！）
> 

✅ ここまで押さえておけば、試験も実務もバッチリ対応できます！