# 到達不能コード

# Q,

例外処理にて到達できない処理を記述するとコンパイルエラーとなりますが、これは例外処理のみ当てはまるものでしょうか？

とても良い質問です！

結論からいうと：

---

## ✅ 結論

> 「到達不能なコード（unreachable code）」を書くとコンパイルエラーになるのは、例外処理に限らず、Java言語全体に共通するルールです。
> 
> 
> Javaコンパイラは、**「明らかに実行されない」と判断できるコード**に対して、**コンパイルエラー（`unreachable code`）** を出します。
> 

---

## 🔍 例外処理での例（よく知られているケース）

```java
public void test() {
    throw new RuntimeException("Error");
    System.out.println("ここには到達しません"); // ❌ コンパイルエラー
}
```

→ `throw` の直後に書かれたコードは**実行されることが絶対にない**ため、`unreachable` と判断され、**コンパイルエラー**。

---

## 🔁 他にも発生するパターン

### ① `return` 文のあと

```java
public int test() {
    return 1;
    System.out.println("これは到達不能"); // ❌ エラー
}
```

---

### ② 無限ループ後（脱出不能な `while(true)` など）

```java
public void loop() {
    while (true) {
        System.out.println("ループ中");
    }
    System.out.println("ここには来ない"); // ❌ エラー
}
```

→ `while(true)` の後に何も抜け出すコードがないと、**後続は永遠に実行されない＝unreachable**

---

### ③ `if (true)` + `return` のように静的に確定する制御文

```java
public void check() {
    if (true) return;
    System.out.println("これは絶対に呼ばれない"); // ❌ エラー
}
```

---

## ✅ なぜJavaはこれを禁止しているのか？

- **明らかなバグ・タイプミス・設計ミスの兆候**とみなせるため
- 実行されないコードを許すと、**保守性・可読性・安全性が下がる**
- Javaは**静的型チェックと構文安全性を重視**した設計方針をとっている

---

## ✅ まとめ

| 項目 | 内容 |
| --- | --- |
| 到達不能コードでエラーが出るのは例外処理だけ？ | ❌ いいえ。Java全体の仕様です |
| 代表例 | `throw` の後, `return` の後, `while(true)` の後など |
| Javaの設計思想 | 明らかなミスを早期に検出するため、安全性を重視 |

---

もし「どうしても到達不能コードっぽく見えるが必要なケース（例：テストやデバッグ）」で書きたいなら、**コンパイラが検出できないようにする（動的条件で分岐を作る）**などの工夫が必要です。

必要であればその例も紹介できます！