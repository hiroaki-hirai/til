# インクリメントまとめ

以下に、Java Silver 試験でよく問われる**インクリメント（`++`）/ デクリメント（`--`）演算子のパターン問題集**を用意しました。

**前置・後置の違いによる出力の変化**や、**注意すべき評価順序・副作用のタイミング**など、よくあるひっかけも含めています。

---

## ✅ インクリメント / デクリメント演算のパターン問題集

---

### ❶ 【前置と後置の違い】

```java
int a = 5;
int b = a++;
System.out.println("a = " + a + ", b = " + b);
```

**Q: 出力結果は？**

✅ **答え：a = 6, b = 5**

**理由**：`a++` は後置 → `b` に代入後、`a` がインクリメントされる。

---

### ❷ 【前置で代入】

```java
int a = 5;
int b = ++a;
System.out.println("a = " + a + ", b = " + b);
```

**Q: 出力結果は？**

✅ **答え：a = 6, b = 6**

**理由**：`++a` は前置 → 先にインクリメントしてから代入。

---

### ❸ 【for文とインクリメント】

```java
for (int i = 0; i < 3; i++) {
    System.out.print(i + " ");
}
```

**Q: 出力結果は？**

✅ **答え：0 1 2**

**理由**：`i++` はループの最後で評価され、条件式 `i < 3` によって範囲が制御される。

---

### ❹ 【後置インクリメントの評価順序】

```java
int x = 1;
int y = x++ + x;
System.out.println("x = " + x + ", y = " + y);
```

**Q: 出力結果は？**

✅ **答え：x = 2, y = 1 + 2 = 3**

**理由**：

- `x++` → 使用後に `x=2`
- `x` → すでに 2
- `y = 1 + 2`

---

### ❺ 【前置インクリメントの評価順序】

```java
int x = 1;
int y = ++x + x;
System.out.println("x = " + x + ", y = " + y);
```

**Q: 出力結果は？**

✅ **答え：x = 2, y = 2 + 2 = 4**

**理由**：

- `++x` → x becomes 2
- `x` is now 2

---

### ❻ 【複雑な式に後置を含む】

```java
int a = 1;
int b = a++ + a++ + a;
System.out.println("a = " + a + ", b = " + b);
```

**Q: 出力結果は？**

✅ **答え：a = 3, b = 1 + 2 + 3 = 6**

**理由**：

- `a++` → 1、a becomes 2
- `a++` → 2、a becomes 3
- `a` → 3

---

### ❼ 【代入に混ざる場合】

```java
int i = 3;
i = i++;
System.out.println(i);
```

**Q: 出力結果は？**

✅ **答え：3**

**理由**：

- `i++` の値（3）を `i` に代入 → 結局値は変わらない
- `i` のインクリメントは副作用として無視される

---

### ❽ 【配列とインクリメント】

```java
int[] arr = {10, 20, 30};
int i = 0;
System.out.println(arr[i++]);  // ?
System.out.println(arr[i]);    // ?
```

**Q: 出力結果は？**

✅ **答え：10, 20**

**理由**：

- `arr[i++]` → `arr[0]` 参照後、i becomes 1
- `arr[i]` → `arr[1]`

---

### ❾ 【インクリメント対象が定数】

```java
final int x = 10;
x++;  // ?
```

**Q: コンパイルは通るか？**

❌ **答え：通らない**

**理由**：`final` は再代入不可。`++` は代入を伴うのでNG。

---

### 🔟 【インクリメントの戻り値で配列アクセス】

```java
int[] nums = {5, 10, 15};
int index = 0;
System.out.println(nums[++index]);  // ?
```

**Q: 出力結果は？**

✅ **答え：10**

**理由**：`++index` → 1 → `nums[1]` = 10

---

## ✅ まとめ表：前置 / 後置の違い

| 演算子 | 評価順序 | 使用タイミング |
| --- | --- | --- |
| `++x` | インクリメント後使用 | 先に増やしてから使う |
| `x++` | 使用後にインクリメント | 使ってから増やす |
| `x = x++` | 元の値で代入（変化しない） | よくあるひっかけ！ |

はい、Hiroakiさんが上記でカバーされた内容はかなり網羅的ですが、**試験や実務で見落としやすい応用パターンがいくつか存在します**。

以下に「応用として知っておくと安心な追加パターン」をご紹介します（Silver〜Gold相当）。

---

## ✅ 応用・見落とされがちなインクリメント/デクリメント演算のパターン

---

### ❶ 複合演算式の副作用タイミング

```java
int i = 1;
int j = i++ + ++i;
System.out.println("i=" + i + ", j=" + j);
```

**結果：i=3, j=1 + 3 = 4**

- `i++` → 使用時は1、i becomes 2
- `++i` → i becomes 3, 使用値は3
- j = 1 + 3 = 4

---

### ❷ 三項演算子と組み合わせた場合

```java
int a = 1;
int b = (a++ == 1) ? ++a : --a;
System.out.println("a=" + a + ", b=" + b);
```

**結果：a=3, b=3**

- `a++ == 1` → true（a becomes 2）
- `++a` → a becomes 3, b = 3

---

### ❸ while/do-whileの中での評価順ミス

```java
int i = 0;
while (i++ < 3) {
    System.out.print(i + " ");
}
```

**出力：1 2 3**

- ループ条件で `i++` → 使用後インクリメント → ループ内ではすでに加算後の値

---

### ❹ 文字型（char）へのインクリメント

```java
char c = 'A';
c++;
System.out.println(c);  // ?
```

**出力：B**

- `char` は内部的に整数（Unicode値）扱い → `'A'` → `'B'` へ進む

---

### ❺ boolean型には使用不可

```java
boolean b = true;
b++;  // ❌ コンパイルエラー
```

- `++` / `-` は数値型にしか使えない → **booleanには非対応**

---

### ❻ メソッド引数にインクリメントを渡す場合

```java
void test(int x) {
    System.out.println(x);
}

int a = 1;
test(a++);
System.out.println(a);
```

**出力：1, 2**

- `a++` は1を渡した後に、`a` が2になる

---

### ❼ 配列インデックスに使用する場合の注意

```java
int[] arr = {10, 20, 30};
int i = 0;
System.out.println(arr[i++] + arr[i++]);  // ?
```

**出力：10 + 20 = 30**

- `i=0`: arr[0] = 10 → i=1
- `i=1`: arr[1] = 20 → i=2

---

## 🔁 まとめ：盲点になりやすい知識ポイント

| テーマ | 注意点 |
| --- | --- |
| 複数回の `++/--` 使用 | **副作用のタイミング**に要注意（評価順序） |
| `x = x++` | **変化しない**（元の値が代入される） |
| `char` への使用 | 数値として扱われ、次の文字へ進む |
| `boolean` には使用不可 | コンパイルエラー |
| 条件・引数・配列添え字内の使用 | どの時点で値が変わるかを明確に意識すること |