# アクセス修飾子

# Q,

アクセス修飾子の付与パターンをまとめてください。
クラスの場合、メソッドの場合、フィールドの場合＋α のようにお願いします。

素晴らしいご質問です、Hiroakiさん。

アクセス修飾子（`public`, `protected`, `private`, 省略（パッケージプライベート））は、**クラスやメンバー（フィールド・メソッドなど）に対するアクセス制御の中心的な仕組み**です。

---

## ✅ アクセス修飾子の概要

| 修飾子 | 同一クラス内 | 同一パッケージ内 | サブクラスから | 他パッケージ |
| --- | --- | --- | --- | --- |
| `public` | ✅ | ✅ | ✅ | ✅ |
| `protected` | ✅ | ✅ | ✅ | ❌（ただしサブクラスならOK） |
| **（省略）**パッケージプライベート | ✅ | ✅ | ❌ | ❌ |
| `private` | ✅ | ❌ | ❌ | ❌ |

---

## ✅ 使用対象別：付与可能なアクセス修飾子のパターン

### 🔷 1. **クラス（トップレベルクラス）**

| 修飾子 | 使用可否 | 備考 |
| --- | --- | --- |
| `public` | ✅ | 複数ファイルにまたがって利用可能 |
| **（省略）** | ✅ | パッケージ内のみアクセス可能 |
| `protected` | ❌ | コンパイルエラー |
| `private` | ❌ | コンパイルエラー |

⚠️ トップレベルクラスには `protected` や `private` は使えません。

---

### 🔷 2. **クラス（内部クラス／ネストクラス）**

| 修飾子 | 使用可否 | 備考 |
| --- | --- | --- |
| `public` | ✅ | 外部からアクセス可能（外側クラス経由） |
| `protected` | ✅ | サブクラスで利用可（ネストクラスに意味がある場面は限られる） |
| **（省略）** | ✅ | パッケージ内でのみ可 |
| `private` | ✅ | 外部から見えない内部クラスとして定義可 |

---

### 🔷 3. **フィールド（インスタンス変数・クラス変数）**

| 修飾子 | 使用可否 | 備考 |
| --- | --- | --- |
| `public` | ✅ | 直接アクセス可（推奨されない） |
| `protected` | ✅ | 継承関係での再利用に有用 |
| **（省略）** | ✅ | パッケージ内限定でアクセス可 |
| `private` | ✅ | **原則これを使うのが推奨**（カプセル化） |

---

### 🔷 4. **メソッド**

| 修飾子 | 使用可否 | 備考 |
| --- | --- | --- |
| `public` | ✅ | APIやインターフェースでの公開メソッドに使う |
| `protected` | ✅ | サブクラスでオーバーライド可能 |
| **（省略）** | ✅ | パッケージ内で利用 |
| `private` | ✅ | クラス内部限定。**ユーティリティやヘルパーに使う** |

---

### 🔷 5. **コンストラクタ**

| 修飾子 | 使用可否 | 備考 |
| --- | --- | --- |
| `public` | ✅ | どこからでもインスタンス化可 |
| `protected` | ✅ | 継承用に制限されたインスタンス化 |
| **（省略）** | ✅ | パッケージ内からのみインスタンス化可 |
| `private` | ✅ | **シングルトンやファクトリーパターンに使われる**（外部から生成禁止） |

---

### 🔷 6. **インタフェースのメンバー**

### インタフェース自体（トップレベル）

| 修飾子 | 使用可否 | 備考 |
| --- | --- | --- |
| `public` | ✅ | インタフェースは原則公開して使われることを想定 |
| **（省略）** | ✅ | パッケージ内のみ利用可 |
| `private/protected` | ❌ | トップレベルでは不可 |

### インタフェースのメソッド・定数

| 要素 | デフォルト修飾子 | 指定可能 |
| --- | --- | --- |
| メソッド | `public abstract` | `public`（必須） |
| 定数（フィールド） | `public static final` | `public`（必須） |

---

## ✅ よくある設計上の使い分け（ベストプラクティス）

| 要素 | 推奨修飾子 | 理由 |
| --- | --- | --- |
| クラス | `public` または **省略** | 外部公開 or パッケージ内部用途 |
| フィールド | `private` | カプセル化・getter/setter経由で操作 |
| メソッド | `public` / `protected` / `private` | API or 内部処理の役割によって |
| コンストラクタ | `public` / `private` | 一般生成 or 制御された生成（シングルトンなど） |

---

## ✅ まとめ図（使用可能な修飾子）

| 対象 | public | protected | （省略） | private |
| --- | --- | --- | --- | --- |
| クラス（トップ） | ✅ | ❌ | ✅ | ❌ |
| クラス（内部） | ✅ | ✅ | ✅ | ✅ |
| フィールド | ✅ | ✅ | ✅ | ✅ |
| メソッド | ✅ | ✅ | ✅ | ✅ |
| コンストラクタ | ✅ | ✅ | ✅ | ✅ |
| インタフェース | ✅ | ❌ | ✅ | ❌ |

---

ご希望があれば、**アクセス修飾子と継承の絡み（override時の可視性拡張など）**も解説できます！