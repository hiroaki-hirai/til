# ２次元配列の順次取り出し

# Q,

2次元配列を拡張for文で順次取り出す場合のコード例を作成してください。

もちろんです！

2次元配列を拡張 `for` 文（enhanced for loop）で順次取り出す場合のコードは、**「内側にもう1段階 `for` 文を書く」**ことで実現できます。

---

## ✅ コード例：2次元配列を順次取り出す

```java
public class TwoDimensionalArrayExample {
    public static void main(String[] args) {
        int[][] matrix = {
            {1, 2, 3},
            {4, 5, 6},
            {7, 8, 9}
        };

        for (int[] row : matrix) {         // 1次元配列（行）を取り出す
            for (int value : row) {        // 行の中の要素（列）を取り出す
                System.out.print(value + " ");
            }
            System.out.println();          // 行ごとに改行
        }
    }
}
```

---

### ✅ 出力結果：

```java
1 2 3 
4 5 6 
7 8 9 
```

---

## 🧠 ポイント解説

| コード部分 | 解説 |
| --- | --- |
| `for (int[] row : matrix)` | `matrix` の各行（1次元配列）を順番に取り出す |
| `for (int value : row)` | その行の中の各要素（列）を順番に取り出す |
| `System.out.print(...)` | 値を出力。改行せずに並べる |
| `System.out.println();` | 各行の末尾で改行する |

---

## ✅ 拡張for文のメリット

- `配列の長さやインデックスを気にせず書ける`
- `可読性が高い`
- `イテレーション専用の用途に向いている（変更不可）`

---

必要であれば、**インデックスを使った通常の for 文との比較**や、

**List<List<>> での取り出し方**もご紹介できます！お気軽にど

# Q,

```java
public class TwoDimensionalArrayExample {
    public static void main(String[] args) {
        int[][] matrix = {
            {1, 2, 3},
            {4, 5, 6},
            {7, 8, 9}
        };

        for (Object row : matrix) {         // 1次元配列（行）を取り出す
            for (int value : row) {        // 行の中の要素（列）を取り出す
                System.out.print(value + " ");
            }
            System.out.println();          // 行ごとに改行
        }
    }
}
```

上記のように、１次元目の配列を取り出す際に、Object型の変数を利用しても良い認識はあっていますか？

Hiroakiさんの着眼点はとても良いです。

そのうえで、結論を先にお伝えすると：

---

## ❌ 結論：`Object row : matrix` としても**文法上は通りますが、2重の拡張for文では使えません**

---

## ✅ 解説

```java
for (Object row : matrix) {
    for (int value : row) { // ← ここでコンパイルエラー
```

- `matrix` は `int[][]`（2次元配列）なので、外側のループで `row` は `int[]` 型になります。
- しかし、**変数 row の型を `Object` にしてしまうと、次の内側の `for (int value : row)` でコンパイルエラー**になります。

---

## 🔍 なぜエラーになるのか？

- 拡張for文は **「配列または `Iterable` の要素を順次取り出す構文」**です。
- つまり：

```java
for (int value : row)  // ← row は int[] である必要がある
```

なのに、`row` の型が `Object` だと、Javaは `Object` に `int value : row` という操作ができないため、**コンパイル時に型エラー**が起きます。

---

## ✅ まとめ：使ってよいか？

| 書き方 | 可否 | 補足 |
| --- | --- | --- |
| `for (int[] row : matrix)` | ✅ | 一番自然で安全 |
| `for (Object row : matrix)` | ⚠️ 外側のみOK（ただし内側のループでは型キャストが必要） |  |
| `for (int value : row)` （Object型のrowに対して） | ❌ | コンパイルエラー |

---

## ✅ どうしても `Object` を使いたいなら？

キャストが必要です：

```java
for (Object row : matrix) {
    int[] intRow = (int[]) row;            // 明示的なキャスト
    for (int value : intRow) {
        System.out.print(value + " ");
    }
    System.out.println();
}
```

このようにすれば動作しますが、**冗長で可読性も落ちるため、実務では推奨されません**。

---

## ✅ 結論（Hiroakiさんの認識について）

| 認識内容 | 判定 | コメント |
| --- | --- | --- |
| 1次元目の配列を `Object` 型で取り出しても良い | ⭕（外側だけならOK） | ただし内側のループで使うにはキャストが必要 |
| そのまま拡張for文を2重に使える | ❌ | `Object` のままだとコンパイルエラーになる |

---

わずかな型の違いですが、**拡張for文では厳密な型が要求される**点がポイントです。

関連して、Listやジェネリクスの場合の扱いもご紹介できますので、ご希望あればお知らせください！

# Q,

```java
public class TwoDimensionalArrayExample {
    public static void main(String[] args) {
        int[][] matrix = {
            {1, 2, 3}
        };

        for (Object row : matrix) {         // 1次元配列（行）を取り出す
             
            System.out.println(row);          // 行ごとに改行
        }
    }
}
```

上記のコードではどうでしょうか？
コンパイルエラーになりますか？

素晴らしい観察です！

では、以下のコードについて明確に答えます。

---

## ✅ 結論：**このコードはコンパイルエラーになりません。正常に動作します。**

```java
public class TwoDimensionalArrayExample {
    public static void main(String[] args) {
        int[][] matrix = {
            {1, 2, 3}
        };

        for (Object row : matrix) {
            System.out.println(row);
        }
    }
}
```

---

## ✅ なぜOKなのか？

- `matrix` は `int[][]` 型、つまり「`int[]` の配列」です。
- `拡張for文` は要素を1つずつ取り出すので、**`row` は `int[]` 型**になります。
- `int[]` は `Object` のサブタイプ（配列はすべて `Object` を継承）なので、**`Object row` として受け取ることは可能**です。

---

## ✅ 出力結果はどうなる？

`System.out.println(row);` は `Object.toString()` を呼ぶので、

**配列の型名とハッシュコードのようなものが表示されます**。

例：

```java
[I@1b6d3586
```

- `[I` は「int型の1次元配列」を意味する型記号
- `@1b6d3586` はハッシュコードの16進表現（実行ごとに変わる）

---

## ✅ 配列の中身を見たい場合は？

中身を表示するには `Arrays.toString()` を使います：

```java
System.out.println(Arrays.toString((int[]) row));
```

```java
[1, 2, 3]
```

と表示されます。

※ `row` の型が `Object` なので、キャスト `(int[])` が必要です。

---

## ✅ まとめ

| 内容 | 判定 | 解説 |
| --- | --- | --- |
| コンパイルエラーになるか？ | ❌ ならない | `Object row` に `int[]` を代入可能 |
| 出力は人間に読める形か？ | ❌ そのままでは読みにくい | `Arrays.toString()` を使うと良い |
| `Object` 型で受けることに意味はあるか？ | △ | 特別な理由がない限り、`int[] row` のほうが自然で安全 |

---

この例から「配列は `Object` 型として扱えるが、そのままでは実用性に乏しい」ということがよく分かりますね。

他にも、`Object[]` や多次元配列の表示方法（`Arrays.deepToString()`）などにも興味があれば解説します！