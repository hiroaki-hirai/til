# 変数経由のメソッド呼び出し

# Q,

変数経由でその型のクラスに定義されているメソッドを呼び出すことができる認識ですが、これは変数の種類 (ローカル、フィールドなど) や 制限的な修飾子の有無など関係なく呼び出す事ができるのでしょうか？

はい、Hiroakiさんの理解は基本的に正しいです。

ただし、**いくつかの条件によって「メソッド呼び出しが可能かどうか」には制限がある**ため、そこを整理してご説明します。

---

## ✅ 結論：

> 変数の種類（ローカル／フィールド／staticフィールド）や修飾子（private/final など）に関わらず、
> 
> 
> **その変数が指すオブジェクトの型にメソッドが定義されていれば、**
> 
> **そのメソッドは呼び出し可能です。**
> 

ただし、「アクセス可能かどうか」にはいくつかの **修飾子やスコープの制約** が関係します。

---

## 🔍 呼び出し可否に関係する観点

### ① ✅ **変数の種類は関係ない**

| 変数の種類 | 呼び出しできるか？ | 補足 |
| --- | --- | --- |
| ローカル変数 | ✅ できる | スコープ内で有効であれば問題なし |
| インスタンスフィールド | ✅ できる | `this.変数名.メソッド()` の形も可 |
| staticフィールド | ✅ できる | `クラス名.変数名.メソッド()` の形で呼び出す |

---

### ② ✅ **final修飾子は関係ない**

- `final` 変数であっても、**参照先の状態を変更したり、メソッドを呼び出したりすることは可能**。

```java
final StringBuilder sb = new StringBuilder("A");
sb.append("B"); // OK

```

- ただし、`sb = new StringBuilder()` などの**再代入は不可**。

---

### ③ ❗ **アクセス修飾子には制限がある**

| 修飾子 | 他クラスからの呼び出し | 備考 |
| --- | --- | --- |
| `public` | ✅ 呼び出し可能 | どこからでも可 |
| `protected` | △ パッケージ内 or 継承関係ありならOK | サブクラスや同一パッケージ限定 |
| パッケージプライベート（なし） | △ 同一パッケージ内のみ | パッケージをまたぐと不可 |
| `private` | ❌ 呼び出せない | 宣言元クラス以外からはNG |

---

## 🧪 例：修飾子による呼び出し可否

```java
public class MyClass {
    private void privateMethod() {}
    public void publicMethod() {}
}

MyClass obj = new MyClass();
obj.publicMethod();  // ✅ OK
obj.privateMethod(); // ❌ NG（同一クラス内でないとエラー）
```

---

## ✅ まとめ：呼び出し可能性のチェックリスト

| チェック項目 | 結論 |
| --- | --- |
| 変数のスコープ | スコープ内であれば呼び出しOK |
| 変数がfinal | メソッド呼び出しOK（再代入はNG） |
| 参照先の型 | メソッドが定義されていれば呼び出しOK |
| メソッドのアクセス修飾子 | アクセス可能であれば呼び出しOK（最重要） |