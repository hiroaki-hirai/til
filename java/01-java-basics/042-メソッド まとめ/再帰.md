# 再帰

# Q,

メソッドの再帰呼び出しとはメソッドのループという理解であっていますか？

とても良い質問です、Hiroakiさん。

結論から言うと、**再帰呼び出し（再帰）とループは「目的は似ているが、仕組みは異なる」**ものです。

---

# ✅ 再帰呼び出しとは？

**再帰（recursion）とは、自分自身を呼び出すメソッド**のことです。

```java
int factorial(int n) {
    if (n == 1) return 1;
    return n * factorial(n - 1);
}
```

これは、「nの階乗（n!）」を計算する再帰メソッドです。

---

# 🔁 ループとの関係：**処理の繰り返し**という意味では似ている

| 項目 | 再帰呼び出し | ループ（for / while） |
| --- | --- | --- |
| 処理の繰り返し | ✅ できる（自己呼び出しによって） | ✅ できる（繰り返し構文によって） |
| 呼び出し構造 | **スタックに積まれて戻る**（関数呼び出し） | **単一のコードブロック内で回る** |
| 終了条件 | `if` 文で **ベースケース** を明示する | `for` / `while` の条件式で制御 |
| メリット | 問題の構造を表現しやすい（再帰的定義） | パフォーマンスとメモリ効率が良いことが多い |
| デメリット | **スタックオーバーフロー**に注意 | 再帰的な処理には表現力が乏しいことがある |

---

# 🔍 例：同じ処理を再帰とループで書く

### ✅ 再帰で1〜nを足す

```java
int sum(int n) {
    if (n == 0) return 0;
    return n + sum(n - 1);
}
```

### 🔁 ループで書く

```java
int sum(int n) {
    int total = 0;
    for (int i = 1; i <= n; i++) {
        total += i;
    }
    return total;
}
```

---

# ✅ 結論

- ✅ **再帰＝メソッド自身を呼ぶ構造**
- ✅ **ループ＝繰り返しの構文（for / while）を使う**
- ➕ **どちらも繰り返し処理ができる**が、**実装方法と適用対象が異なる**

---

## 💡 補足：いつ再帰を使う？

| 再帰が適しているケース | 例 |
| --- | --- |
| 分割して再構築するような問題構造 | フィボナッチ数列、階乗、探索、木構造など |
| 再帰的な定義をそのままコードにしたい | DFS、パース、バックトラックなど |

---

必要であれば、「再帰とループの変換練習」や「スタックトレースを使った再帰の理解」などもご提供できます。興味ありますか？