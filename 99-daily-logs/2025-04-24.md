## ✅ 今日やったこと
- 糖衣構文について


<br>

## 📌 TIL
### 糖衣構文
糖衣構文 | コンパイル後の展開 | 解説例
--- | --- | ---
拡張for文（for-each） | Iteratorを使った通常のfor文に変換 | for (String s : list)
可変長引数（varargs） | 引数配列に変換される | void method(String... args)
オートボクシング／アンボクシング | int ↔ Integer などの自動変換 | Integer i = 5; → Integer.valueOf(5);
switch式（Java 14以降） | コンパイル時に通常のswitchへ展開 | yieldを含むswitchなど
ラッパー文字列連結 "a" + b | StringBuilder による結合に変換 | "" + a → new StringBuilder().append(...)
ラムダ式（Java 8以降） | 無名クラス（関数型インターフェース）に変換 | x -> x * x など
try-with-resources | finally ブロックを使った close() に変換 | 自動リソース解放
enumのswitch対応 | バッキング配列を使って高速化 | enum→intに変換されてswitch処理
### 可変長引数と配列引数の違い
比較項目 | 可変長引数 (int... args) | 配列引数 (int[] args)
--- | --- | ---
呼び出し時の書き方 | method(1, 2, 3); | method(new int[]{1, 2, 3});
呼び出し側の手軽さ | ✅ 簡単で自然な呼び方ができる | ❌ 配列を明示的に作る必要がある
実体（JVM上） | 配列として扱われる | 配列として扱われる（同じ）
意図 | 「引数の数が可変である」ことを明示 | 「複数の値をまとめて渡す」設計意図
オーバーロードとの相性 | やや注意が必要（曖昧になる可能性） | 明確で安全
### 可変長引数がJVMでどう解釈され、どうコンパイルされるか
  - 糖衣構文より String... は、実際には String[] として扱われる
  - コンパイル後のクラスファイルをjavapで確認<br>
    - descriptor: ([Ljava/lang/String;)V → [ より配列として扱われている
    - ACC_VARARGS → 可変長引数であることを示すフラグで管理
### フラグについて
→ フラグには２種類ある
1. JVMのバイトコード上のフラグ (構造情報としてのフラグ)
2. プログラム内で使用するフラグ (boolean変数としてのフラグ)
  - 例 : Stringクラスのequaldメソッド内の "COMPACT_STRINGS"
### staticメソッド
クラス名 | メソッド名 | 用途の説明
--- | --- | ---
String | valueOf() | 任意の型を文字列に変換する（nullなら"null"を返す）
Integer | parseInt(String) | 文字列をint型に変換
Integer | valueOf(String) | 文字列をIntegerオブジェクトに変換（キャッシュあり）
Double | parseDouble(String) | 文字列をdouble型に変換
Boolean | parseBoolean(String) | 文字列をboolean型に変換（"true"のみtrue）
Math | abs(), max(), min(), pow() など | 数学演算（絶対値、最大・最小、累乗など）
Arrays | asList() | 配列をリストとして扱えるようにする
Arrays | sort(), copyOf(), equals()など	配列の操作（ソート、コピー、比較など）
Collections | sort(), reverse(), shuffle()など | Listなどコレクションの操作（並び替え・反転・シャッフルなど）
Objects | requireNonNull(), equals(), toString() | nullチェックや安全な比較・変換
System | currentTimeMillis() | 現在の時間をミリ秒で取得
System | gc() | ガベージコレクションを明示的に呼び出す
Thread | sleep() | 指定時間だけスレッドを停止させる
Files（Java7+） | readAllBytes(Path) | ファイルをバイト配列で読み込む
Files | write(Path, byte[])	バイト配列をファイルに書き込む
Paths（Java7+） | get(String) | パスを生成する

<br>

## 🤔 疑問・今後調べること・今後の課題
- 

<br>

## 🛠️ 実行したコード or コマンド
### 可変長引数と配列引数
- 可変長引数
```java
public void printNumbers(int... nums) {
    for (int n : nums) {
        System.out.println(n);
    }
}
```
```java
printNumbers(1);              // OK
printNumbers(1, 2, 3, 4, 5);  // OK
```
- 配列引数
```java
public void printNumbers(int[] nums) {
    for (int n : nums) {
        System.out.println(n);
    }
}
```
```java
printNumbers(new int[]{1, 2, 3}); // 明示的に配列を生成しなければならない
```
```java
// OK
public void sample(String name, int... scores) { }

// NG：コンパイルエラー
public void sample(int... scores, String name) { }
```
### 可変長引数のJVM処理
```bash
javac VarargsExample.java
javap -c VarargsExample.class
```
```java
public static void printAll(java.lang.String...);
  descriptor: ([Ljava/lang/String;)V
  flags: ACC_PUBLIC, ACC_STATIC, ACC_VARARGS
```
### boolean変数としてのフラグ
→ 内部分岐の制御に使用
```java
boolean matched = false;
for (String s : list) {
    if (s.equals("target")) {
        matched = true;
        break;
    }
}
if (matched) {
    System.out.println("見つかりました！");
}
```
<br>

##  🧩学習方針・ロードマップ
以下の項目、スケジュールで学習していきます。

### **第1フェーズ：Java言語の基礎と実行環境の理解**

| 項目 | 内容 |
| --- | --- |
| JDK / JRE / JVM | Javaアプリがどのように動いているかを理解 |
| Java文法復習（Silverレベル） | 基本構文・制御構文・オブジェクト指向・例外処理 |
| Java API | String, List, Map, Stream などの標準ライブラリの使い方 |
| コレクションAPI・ラムダ式・Stream API | データ処理の基本として重要（実務で頻出） |

### **第2フェーズ：設計力の基礎とコードの質の向上**

| 項目 | 内容 |
| --- | --- |
| SOLID原則 | 拡張しやすく壊れにくい設計の5原則 |
| デザインパターン | Strategy, Factory, Decorator, Compositeなど代表パターン |
| リファクタリング | コードの可読性・保守性向上。メソッド抽出、分割、置換など |
| JLS / JPMS | Java仕様の深掘り、モジュール化構造の理解（余裕があれば） |

### **第3フェーズ：テストと品質保証の実践**

| 項目 | 内容 |
| --- | --- |
| JUnit（4 or 5） | 単体テストの書き方、アサーション、セットアップ、例外テスト |
| Mockito | モックによる依存の切り離し |
| TDD（テスト駆動開発） | テスト→実装→リファクタの循環型開発 |
| テスト設計技法 | 等価クラス、境界値、状態遷移など（基本だけでOK） |

### **第4フェーズ：実務開発の準備（フレームワーク／構成管理）**

| 項目 | 内容 |
| --- | --- |
| フレームワーク基礎 | Spring Framework（DI / AOP / MVC / Boot） |
| ビルドツール | Maven or Gradle（依存管理、ビルド、JAR作成） |
| ログ設計 | Logback / SLF4J（ログレベル、ロガーの設計） |
| 例外処理設計 | ハンドリング方針、ログ連携、ユーザーフィードバック方法 |
| レイヤー設計 | Controller / Service / Repository などの役割分離 |

### 学習期間目安

| フェーズ | 学習期間の目安 | 目的 |
| --- | --- | --- |
| 第1フェーズ | 1～2ヶ月 | Javaの基本力を身につける |
| 第2フェーズ | 1ヶ月前後 | 設計と品質への意識を高める |
| 第3フェーズ | 1ヶ月 | 品質保証・テスト技術を実装と共に理解 |
| 第4フェーズ | 2ヶ月～ | 実務で使える構造・運用・フレームワーク技術を習得 |